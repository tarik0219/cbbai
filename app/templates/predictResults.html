{% extends "base.html" %}
{% block title %}Game Preview{% endblock %}
{% block content %}

<div class="page-header">
    <h1>üéØ Game Preview & Prediction</h1>
    <p class="subtitle">AI-Powered Game Analysis</p>
</div>

<div class="prediction-card">
    <!-- Home Team -->
    <div class="team-row" style="padding: var(--spacing-lg); border-bottom: 2px solid var(--border-color);">
        <div class="team-info">
            <img src="{{ ''.join(['https://a.espncdn.com/i/teamlogos/ncaa/500/',homeData.id,'.png']) }}"
                 onerror="this.onerror=null; this.src='/static/pics/basketball.png'"
                 alt="{{homeData.teamName}}" 
                 style="width: 60px; height: 60px;"
                 class="team-logo">
            <div>
                <a href="{{ ''.join(['/schedule/', homeData.id ]) }}" class="team-name" style="font-size: 1.5rem;">
                    {{homeData.teamName}}
                </a>
                <br>
                <span class="stats-badge" style="font-size: 0.9rem;">Rank #{{homeData.ranks.rank}}</span>
            </div>
        </div>
        <div style="text-align: right;">
            <div class="win-probability">{{ "%.1f"|format(prob)}}%</div>
            <div style="color: var(--text-secondary); font-size: 0.9rem;">Win Probability</div>
        </div>
    </div>

    <div class="vs-divider" style="text-align: center; padding: var(--spacing-lg) 0;">
        VS
    </div>

    <!-- Away Team -->
    <div class="team-row" style="padding: var(--spacing-lg); border-top: 2px solid var(--border-color);">
        <div class="team-info">
            <img src="{{ ''.join(['https://a.espncdn.com/i/teamlogos/ncaa/500/',awayData.id,'.png']) }}"
                 onerror="this.onerror=null; this.src='/static/pics/basketball.png'"
                 alt="{{awayData.teamName}}" 
                 style="width: 60px; height: 60px;"
                 class="team-logo">
            <div>
                <a href="{{ ''.join(['/schedule/', awayData.id ]) }}" class="team-name" style="font-size: 1.5rem;">
                    {{awayData.teamName}}
                </a>
                <br>
                <span class="stats-badge" style="font-size: 0.9rem;">Rank #{{awayData.ranks.rank}}</span>
            </div>
        </div>
        <div style="text-align: right;">
            <div class="win-probability">{{ "%.1f"|format(100 - prob)}}%</div>
            <div style="color: var(--text-secondary); font-size: 0.9rem;">Win Probability</div>
        </div>
    </div>
</div>

<!-- Predicted Score -->
<div class="card-modern">
    <h3 style="text-align: center; margin-bottom: var(--spacing-lg); color: var(--primary-color);">
        üìä Predicted Final Score
    </h3>
    <div style="display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap; gap: var(--spacing-lg);">
        <div style="text-align: center;">
            <div style="font-size: 1.2rem; color: var(--text-secondary); margin-bottom: var(--spacing-sm);">
                {{homeData.teamName}}
            </div>
            <div style="font-size: 3rem; font-weight: 800; color: var(--primary-color);">
                {{ homeScore }}
            </div>
        </div>
        <div style="font-size: 2rem; color: var(--text-secondary);">-</div>
        <div style="text-align: center;">
            <div style="font-size: 1.2rem; color: var(--text-secondary); margin-bottom: var(--spacing-sm);">
                {{awayData.teamName}}
            </div>
            <div style="font-size: 3rem; font-weight: 800; color: var(--primary-color);">
                {{ awayScore }}
            </div>
        </div>
    </div>
</div>

<div class="text-center" style="margin-top: var(--spacing-xl);">
    <a href="/predict" class="btn btn-primary btn-modern">
        ‚Üê Predict Another Game
    </a>
</div>

{% endblock %}